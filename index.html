<!DOCTYPE html>
<!--suppress HtmlDeprecatedAttribute -->
<html class="dark" lang="en" xmlns="">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#010206" />
    <meta
      name="description"
      content="AURELION CORE. A living AI for celestial discovery."
    />
    <title>AURELION CORE</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="icon.svg" type="image/svg+xml" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Exo 2', 'sans-serif'],
            },
            colors: {
              'accent': 'var(--accent-color)',
              'glow': 'var(--glow-color)',
              'bg': 'var(--bg-color)',
              'panel-bg': 'var(--panel-bg)',
              'border': 'var(--border-color)',
              'text': 'var(--text-color)',
              'text-dark': 'var(--text-color-dark)',
              'error': 'var(--error-color)',
              'warning': 'var(--warning-color)',
              'success': 'var(--success-color)',
              'mat-1': 'var(--mat-color-1)',
              'mat-2': 'var(--mat-color-2)',
              'mat-3': 'var(--mat-color-3)',
              'mat-4': 'var(--mat-color-4)',
              'exo-mat-1': 'var(--exo-mat-color-1)',
              'exo-mat-2': 'var(--exo-mat-color-2)',
              'exo-mat-3': 'var(--exo-mat-color-3)',
            },
            keyframes: {
              'ripple-animation': {
                'to': { transform: 'scale(4)', opacity: '0' },
              },
              'fadeIn': { 
                'from': { opacity: '0', transform: 'translateY(10px)' }, 
                'to': { opacity: '1', transform: 'translateY(0)' } 
              },
              'fadeInOnboarding': { 'from': { opacity: '0' }, 'to': { opacity: '1' } },
              'pulse-live': {
                '0%': { boxShadow: '0 0 0 0 rgba(97, 255, 202, 0.7)' },
                '70%': { boxShadow: '0 0 0 5px rgba(97, 255, 202, 0)' },
                '100%': { boxShadow: '0 0 0 0 rgba(97, 255, 202, 0)' },
              },
              'pulse-idle': {
                '0%': { boxShadow: '0 0 0 0 rgba(97, 250, 255, 0.4)' },
                '70%': { boxShadow: '0 0 0 6px rgba(97, 250, 255, 0)' },
                '100%': { boxShadow: '0 0 0 0 rgba(97, 250, 255, 0)' },
              },
              'pulse-active': {
                '0%': { transform: 'scale(0.95)', boxShadow: '0 0 0 0 rgba(255, 250, 97, 0.7)' },
                '50%': { transform: 'scale(1.1)', boxShadow: '0 0 0 8px rgba(255, 250, 97, 0)' },
                '100%': { transform: 'scale(0.95)', boxShadow: '0 0 0 0 rgba(255, 250, 97, 0)' },
              },
              'spin': { 'to': { transform: 'rotate(360deg)' } },
              'pulse-voice': {
                '0%': { transform: 'scale(1)', filter: 'drop-shadow(0 0 2px var(--glow-color))' },
                '50%': { transform: 'scale(1.1)', filter: 'drop-shadow(0 0 8px var(--glow-color))' },
                '100%': { transform: 'scale(1)', filter: 'drop-shadow(0 0 2px var(--glow-color))' },
              },
            },
            animation: {
              'ripple': 'ripple-animation 0.6s linear',
              'fade-in': 'fadeIn 0.5s ease forwards',
              'fade-in-onboarding': 'fadeInOnboarding 1s ease',
              'pulse-live': 'pulse-live 1.5s ease-in-out infinite',
              'pulse-idle': 'pulse-idle 3s ease-in-out infinite',
              'pulse-active': 'pulse-active 1.5s ease-in-out infinite',
              'spin': 'spin 1s linear infinite',
              'pulse-voice': 'pulse-voice 1.5s infinite',
            },
            dropShadow: {
              'glow': '0 0 10px var(--glow-color)',
            },
          },
        },
        plugins: [],
      }
    </script>
    <style type="text/tailwindcss">
        @layer base {
          :root, .light {
            --accent-color: #3b82f6;
            --glow-color: rgba(59, 130, 246, 0.4);
            --bg-color: #f1f5f9;
            --panel-bg: rgba(255, 255, 255, 0.7);
            --border-color: #e2e8f0;
            --text-color: #0f172a;
            --text-color-dark: #f1f5f9;
            --error-color: #ef4444;
            --warning-color: #f97316;
            --success-color: #22c55e;
            --mat-color-1: #9b7653;
            --mat-color-2: #e08d51;
            --mat-color-3: #ffdd33;
            --mat-color-4: #4a4a4a;
            --exo-mat-color-1: #c0c0c0;
            --exo-mat-color-2: #a0966c;
            --exo-mat-color-3: #cc96a1;
          }
          .dark {
            --accent-color: #61faff;
            --glow-color: rgba(97, 250, 255, 0.5);
            --bg-color: #010206;
            --panel-bg: rgba(1, 2, 6, 0.8);
            --border-color: rgba(97, 250, 255, 0.2);
            --text-color: #c0f0ff;
            --text-color-dark: #010206;
            --error-color: #e53e3e;
            --warning-color: #ed8936;
            --success-color: #48bb78;
            --mat-color-1: #9b7653; 
            --mat-color-2: #e08d51;
            --mat-color-3: #ffdd33;
            --mat-color-4: #ffffff;
            --exo-mat-color-1: #c0c0c0;
            --exo-mat-color-2: #f0e68c;
            --exo-mat-color-3: #ffb6c1;
          }
          button {
            @apply relative overflow-hidden;
          }
        }
        @layer components {
            .panel {
                /* Mobile first: full screen, fixed, higher z-index */
                @apply fixed top-0 h-full w-full bg-panel-bg backdrop-blur-md transition-transform duration-300 ease-in-out z-30;
                border-color: var(--border-color);
            }
            /* Medium screens and up */
            @screen md {
                .panel {
                    /* Desktop: side panels, absolute, lower z-index */
                    @apply absolute w-[340px] z-10 duration-500;
                }
            }
            /* Large screens and up */
            @screen lg {
                .panel {
                    @apply w-[380px];
                }
            }

            #left-panel {
                @apply left-0 border-r -translate-x-full;
            }
            #left-panel.open {
                @apply translate-x-0;
            }
            #right-panel {
                @apply right-0 border-l translate-x-full;
            }
            #right-panel.open {
                @apply translate-x-0;
            }

            .panel-backdrop {
              @apply fixed inset-0 bg-black/60 z-20 animate-fade-in-onboarding;
            }

            .panel-toggle-btn {
              @apply p-2 rounded-md hover:bg-glow/50 transition-colors;
            }

            .thinking-button::before {
                content: '';
                @apply absolute left-1/2 top-1/2 w-5 h-5 -ml-[10px] -mt-[10px] border-2 border-border rounded-full animate-spin;
                border-top-color: var(--accent-color);
            }
            .cluster-button.thinking-button::before {
                border-top-color: #ffc261;
            }
            .ripple {
              @apply absolute rounded-full scale-0 animate-ripple bg-glow;
            }
            /* Typing animation requires dynamic properties not easily done in Tailwind config */
            .typing-text {
              white-space: nowrap; 
              overflow: hidden; 
              display: inline-block; 
              vertical-align: bottom;
              animation: typing var(--animation-duration) steps(var(--line-length), end) forwards, blink-caret 0.75s step-end infinite;
              border-right: 0.15em solid var(--accent-color);
            }
            @keyframes typing { from { width: 0; opacity: 1; } to { width: 100%; opacity: 1; } }
            @keyframes blink-caret { from, to { border-color: transparent; } 50% { border-color: var(--accent-color); } }
        
            .panel-back-button {
                @apply bg-transparent border-none text-sm text-text opacity-70 hover:opacity-100 p-0 mb-2 cursor-pointer transition-opacity;
            }
            .panel-section {
                @apply mb-4 border-b border-border pb-4;
            }
            .panel-section:last-child {
                @apply border-b-0;
            }
            .panel-subheader {
                @apply text-xs uppercase tracking-widest text-accent m-0 mb-2 font-bold;
            }
            .analysis-btn {
                @apply w-full text-left p-2 text-sm border border-transparent rounded transition-all duration-300 flex justify-between items-center cursor-pointer disabled:cursor-wait;
            }
            .analysis-btn.idle {
                @apply bg-black/20 hover:bg-glow/50 hover:border-accent;
            }
            .analysis-btn.running {
                @apply bg-yellow-500/20 text-yellow-300;
            }
            .analysis-btn.running::after {
                content: '';
                @apply w-3 h-3 border-2 border-yellow-300 rounded-full border-t-transparent animate-spin;
            }
            .analysis-btn.complete {
                @apply bg-green-500/20 text-green-300;
            }
            .analysis-btn.complete::after {
                content: 'âœ“';
                @apply text-green-300;
            }
            .analysis-btn.error {
                @apply bg-red-500/20 text-red-300;
            }
            .analysis-btn.error::after {
                content: '!';
                @apply text-red-300 font-bold;
            }
        }
    </style>

    <script type="importmap">
{
  "imports": {
    "lit": "https://esm.sh/lit@3.1.3",
    "lit/": "https://esm.sh/lit@3.1.3/",
    "@google/genai": "https://esm.sh/@google/genai",
    "three": "https://esm.sh/three@0.164.1",
    "three/examples/jsm/postprocessing/EffectComposer.js": "https://esm.sh/three@0.164.1/examples/jsm/postprocessing/EffectComposer.js",
    "three/examples/jsm/postprocessing/RenderPass.js": "https://esm.sh/three@0.164.1/examples/jsm/postprocessing/RenderPass.js",
    "three/examples/jsm/postprocessing/UnrealBloomPass.js": "https://esm.sh/three@0.164.1/examples/jsm/postprocessing/UnrealBloomPass.js",
    "three/examples/jsm/controls/OrbitControls.js": "https://esm.sh/three@0.164.1/examples/jsm/controls/OrbitControls.js",
    "react-chartjs-2": "https://aistudiocdn.com/react-chartjs-2@^5.3.0",
    "antd": "https://aistudiocdn.com/antd@^5.27.4",
    "chart.js/": "https://aistudiocdn.com/chart.js@^4.5.0/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "@react-three/fiber": "https://aistudiocdn.com/@react-three/fiber@^9.3.0",
    "three/": "https://aistudiocdn.com/three@^0.180.0/",
    "clsx": "https://aistudiocdn.com/clsx@^2.1.1",
    "tailwind-merge": "https://aistudiocdn.com/tailwind-merge@^3.3.1",
    "typescript-eslint": "https://aistudiocdn.com/typescript-eslint@^8.44.0",
    "globals": "https://aistudiocdn.com/globals@^16.4.0",
    "@eslint/js": "https://aistudiocdn.com/@eslint/js@^9.36.0",
    "chart.js": "https://aistudiocdn.com/chart.js@^4.5.0"
  }
}
</script>
  </head>
  <body class="h-full w-full m-0 bg-bg text-text font-sans overflow-hidden">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <axee-interface></axee-interface>
    <script type="module" src="index.tsx"></script>
  </body>
</html>